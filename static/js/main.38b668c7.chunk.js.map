{"version":3,"sources":["assets/img/cat.png","api/profileAPI.js","redux/reducers/profileReducer.js","redux/reducers/dialogsReducer.js","api/userAPI.js","utils/objectHelpers.js","redux/reducers/usersReducer.js","components/common/preloader/common.module.scss","api/api.js","components/login/LoginForm.jsx","components/login/Login.jsx","components/login/login.module.scss","components/header/header.module.scss","api/authAPI.js","api/securityAPI.js","redux/reducers/authReducer.js","reportWebVitals.js","hoc/WithSuspense.js","components/navbar/Navbar.jsx","redux/reducers/navbarReducer.js","components/navbar/NavbarContainer.jsx","components/common/notFound/NotFound.jsx","components/content/Content.jsx","components/footer/Footer.jsx","components/common/menu/MenuBurger.jsx","components/header/Header.jsx","components/header/HeaderContainer.jsx","redux/reducers/appReducer.js","redux/reduxStore.js","App.js","index.js","components/common/controlForms/controlForms.module.scss","components/navbar/navbar.module.scss","components/common/controlForms/ControlForms.jsx","utils/validators/validators.js","components/content/content.module.scss","components/common/notFound/notFound.module.scss","assets/img/loader.gif","components/common/preloader/Preloader.jsx","components/footer/footer.module.scss"],"names":["profileAPI","userId","instance","get","then","response","data","status","put","file","formData","FormData","append","headers","profile","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","SAVE_PROFILE_SUCCESS","initialState","posts","id","message","likesCount","newPostText","addPost","newPost","type","setStatus","getProfile","dispatch","a","getStatus","updateStatus","resultCode","savePhoto","photos","saveProfile","getState","auth","stopSubmit","_error","messages","Promise","reject","addPostClear","reset","profileReducer","state","action","filter","p","postId","SEND_MESSAGE","DELETE_MESSAGE","dialogs","name","sendMessage","newMessage","send","dialogsReducer","m","messageId","userAPI","getUsers","currentPage","pageSize","withCredentials","followUser","post","unfollowUser","delete","updateObjectInArray","items","itemId","objPropName","newObjectProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","isFollowingInProgress","follow","unFollow","setPage","page","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","count","totalCount","followUsers","bind","unFollowUsers","usersReducer","followed","module","exports","axios","create","baseURL","maxLength40","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","captchaUrl","className","classNames","styles","form__container","onSubmit","form__email","createField","required","Input","form__style","form__password","form__checkbox","Field","form__checkbox_style","component","src","alt","validate","errors","validation__group","form__btn","form__btn_style","connect","isAuth","setLoginUser","setLogoutUser","getCaptchaUrl","to","login","login__container","login__title","email","password","checkbox","captcha","authAPI","small","rememberMe","securityAPI","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","userPhoto","setAuthUserData","payload","getAuthUser","imgUrl","length","url","authReducer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","WithSuspense","Component","props","Suspense","fallback","Preloader","Navbar","isShowedNavBar","showHideNavBar","navbar","navbar__menu","active","navbar__list","onClick","login__link","login__exit","render","Login","SHOW_HIDE_NAVBAR","navbarReducer","NavbarContainer","onOffScroll","value","document","body","style","overflowY","prevProps","prevState","this","React","NotFound","error__container","error__title","error__link","DialogsContainer","lazy","ProfileContainer","UsersContainer","News","Settings","Music","Content","main","main__container","main__nav","main__content","path","from","Footer","classes","footer","footer__container","footer__copyright","MenuBurger","useState","isToggleOn","setToggle","header__icon","Header","header","header__container","header__main","header__title","login__photo","login__notfoto","header__menu","HeaderContainer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","usersPage","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","App","initializedApp","AppContainer","withRouter","MainApp","ReactDOM","getElementById","ControlForms","meta","touched","children","hasErrors","errorsStyles","validation__container","validation__f","validation__field","validation__message","input","child","restProps","Textarea","placeholder","validators","undefined","maxLength","loader","common__loader"],"mappings":"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","file":"static/js/main.38b668c7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/cat.06a5c78a.png\";","import {instance} from \"./api\";\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status})\r\n    },\r\n\r\n    savePhoto(file) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", file);\r\n\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    },\r\n}","import {profileAPI} from \"../../api/profileAPI\";\r\nimport {stopSubmit, reset} from \"redux-form\";\r\nconst ADD_POST = 'social-network/profile/ADD-POST';\r\nconst DELETE_POST = 'social-network/profile/DELETE-POST';\r\nconst SET_USER_PROFILE = 'social-network/profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'social-network/profile/SET-STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'social-network/profile/SAVE_PHOTO_SUCCESS';\r\nconst SAVE_PROFILE_SUCCESS = 'social-network/profile/SAVE_PROFILE_SUCCESS';\r\n\r\nlet initialState = {\r\n    profile: null,\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 13},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 15}\r\n    ],\r\n    newPostText: '',\r\n    status: \"\",\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state,\r\n                newPostText: '',\r\n                posts: [...state.posts, {id: 5, message: action.newPost, likesCount: 0}],\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId),\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n\r\n        case SAVE_PROFILE_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (newPost) => ({ type: ADD_POST, newPost })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile: profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status: status })\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type:SAVE_PHOTO_SUCCESS, photos});\r\n\r\n\r\n// Thunks\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n\r\n    if(response.data.resultCode === 0){\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(getProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"editProfile\", {_error: response.data.messages[0] }));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n}\r\n\r\nexport const addPostClear = (newPost) => async (dispatch) => {\r\n    await dispatch(addPost(newPost));\r\n    dispatch(reset(\"sendPost\"));\r\n}\r\n\r\nexport default profileReducer;","import {reset} from \"redux-form\";\r\n\r\nconst SEND_MESSAGE = 'social-network/dialogs/SEND-MESSAGE';\r\nconst DELETE_MESSAGE = 'social-network/dialogs/DELETE-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Viktor'},\r\n        {id: 2, name: 'Dasha'},\r\n        {id: 3, name: 'Andrew'},\r\n        {id: 4, name: 'Roman'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'This is message'},\r\n        {id: 2, message: 'Yo'},\r\n        {id: 3, message: 'Hi'}\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: action.newMessage}]\r\n            };\r\n        }\r\n\r\n        case DELETE_MESSAGE: {\r\n            return  {\r\n                ...state,\r\n                messages: state.messages.filter(m => m.id !== action.messageId),\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (newMessage) => ({type: SEND_MESSAGE, newMessage})\r\nexport const deleteMessage = (messageId) => ({type: DELETE_MESSAGE, messageId})\r\n\r\nexport const send = (newMessage) => async (dispatch) => {\r\n    await dispatch(sendMessage(newMessage));\r\n    dispatch(reset(\"sendMessage\"));\r\n}\r\n\r\nexport default dialogsReducer;","import {instance} from \"./api\";\r\n\r\nexport const userAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,\r\n            {\r\n                withCredentials: true\r\n            }).then(response => response.data);\r\n    },\r\n\r\n    followUser (id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    unfollowUser (id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data);\r\n    },\r\n}","export const updateObjectInArray = (items, itemId, objPropName, newObjectProps) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjectProps}\r\n        }\r\n        return item;\r\n    });\r\n}","import {userAPI} from \"../../api/userAPI\";\r\nimport {updateObjectInArray} from \"../../utils/objectHelpers\";\r\n\r\nconst FOLLOW = 'social-network/users/FOLLOW';\r\nconst UNFOLLOW = 'social-network/users/UNFOLLOW';\r\nconst SET_USERS = 'social-network/users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'social-network/users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'social-network/users/SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'social-network/users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'social-network/users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isFollowingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            };\r\n        }\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            };\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n\r\n        case SET_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount,\r\n            }\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return  {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                isFollowingInProgress: action.isFetching\r\n                    ? [...state.isFollowingInProgress, action.userId]\r\n                    : state.isFollowingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\n// Action Creators\r\nexport const follow = (userId) => ({type: FOLLOW, userId: userId,})\r\nexport const unFollow = (userId) => ({type: UNFOLLOW, userId: userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users: users})\r\nexport const setPage = (page) => ({type: SET_CURRENT_PAGE, currentPage: page})\r\nexport const setUsersCount = (count) => ({type: SET_TOTAL_COUNT, totalUsersCount: count})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching})\r\nexport const toggleIsFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n\r\n    let response = await apiMethod(userId);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId));\r\n}\r\n\r\n//Thunks\r\nexport const getUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setPage(page));\r\n\r\n    let response = await userAPI.getUsers(page, pageSize)\r\n\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setUsersCount(response.totalCount));\r\n}\r\n\r\nexport const followUsers = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userAPI.followUser.bind(userAPI), follow);\r\n}\r\n\r\nexport const unFollowUsers = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userAPI.unfollowUser.bind(userAPI), unFollow);\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"common__loader\":\"common_common__loader__1ie9L\"};","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'c44afb3b-3190-4267-a47c-ee639a0d16bd'\r\n    },\r\n});\r\n\r\n","import React from \"react\";\r\nimport styles from \"./login.module.scss\";\r\nimport errors from \"../common/controlForms/controlForms.module.scss\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {createField, Input} from \"../common/controlForms/ControlForms\";\r\nimport classNames from \"classnames\";\r\nconst maxLength40 = maxLengthCreator(40);\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n\r\n    return (\r\n        <div className={classNames(styles.form, styles.form__container)}>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className={styles.form__email}>\r\n                    {createField(\"Email\", \"email\",[required, maxLength40], Input, {}, \"email\", [styles.form__style] )}\r\n                </div>\r\n                <div className={styles.form__password}>\r\n                    {createField(\"Password\", \"password\", [required, maxLength40], Input,{}, \"password\",[styles.form__style])}\r\n                </div>\r\n                <div className={styles.form__checkbox}>\r\n                    <Field className={styles.form__checkbox_style}  type={\"checkbox\"} component={\"input\"} name={\"checkbox\"}/> Remember me\r\n                </div>\r\n                {\r\n                    captchaUrl && <img src={captchaUrl} alt=\"\"/>\r\n                }\r\n                {\r\n                    captchaUrl &&\r\n                    <Field className={styles.form__email}  type={\"text\"} component={Input} name={\"captcha\"} validate={[required]}/>\r\n                }\r\n                {   error &&\r\n                    <div className={errors.validation__group}>\r\n                        {error}\r\n                    </div>\r\n                }\r\n                <div className={styles.form__btn}>\r\n                    <button className={styles.form__btn_style}>Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport const LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\n","import React from \"react\";\r\nimport {LoginReduxForm} from \"./LoginForm\";\r\nimport styles from \"./login.module.scss\";\r\nimport {connect} from \"react-redux\";\r\nimport {getCaptchaUrl, setLoginUser, setLogoutUser} from \"../../redux/reducers/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\n\r\n\r\nconst Login = ({isAuth, setLoginUser, captchaUrl}) => {\r\n    const onSubmit = (formData) => {\r\n        setLoginUser(\r\n            formData.email,\r\n            formData.password,\r\n            formData.checkbox,\r\n            formData.captcha,\r\n        )\r\n    };\r\n\r\n    if(isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n      <div className={classNames(styles.login, styles.login__container)}>\r\n          <div className={`${styles.login__title}`}>Welcome to Cool network!</div>\r\n          <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n      </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {setLoginUser, setLogoutUser, getCaptchaUrl})(Login);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__3Li2d\",\"login__container\":\"login_login__container__32oOD\",\"login__title\":\"login_login__title__2y1lP\",\"form__email\":\"login_form__email__MvMPZ\",\"form__password\":\"login_form__password__3iQm6\",\"form__checkbox\":\"login_form__checkbox__3gCIg\",\"form__btn\":\"login_form__btn__337yb\",\"form__btn_style\":\"login_form__btn_style__57bYs\",\"form__style\":\"login_form__style__1xus_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3PUjW\",\"header__container\":\"header_header__container__2dGy0\",\"header__main\":\"header_header__main__1jxIL\",\"header__title\":\"header_header__title__1GN5O\",\"header__menu\":\"header_header__menu__ZNNv9\",\"header__photo\":\"header_header__photo__2pxh5\",\"login__container\":\"header_login__container__2cSA6\",\"login__photo\":\"header_login__photo__UgSVD\",\"login__notfoto\":\"header_login__notfoto__3Iy5F\",\"login__link\":\"header_login__link__B_KAL\",\"header__icon\":\"header_header__icon__3s-kW\",\"active\":\"header_active__x0PWz\",\"login\":\"header_login__3wMEC\"};","import {instance} from \"./api\";\r\n\r\nexport const authAPI = {\r\n    getAuthUser() {\r\n        return  instance.get(`auth/me`)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    getAuthUserAvatar(id = 2) {\r\n        return instance.get(`profile/${id}`)\r\n            .then(response => response.data.photos.small);\r\n    },\r\n\r\n    loginUser(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`/auth/login`, {email, password, rememberMe, captcha})\r\n            .then(response => response.data);\r\n    },\r\n\r\n    logoutUser() {\r\n      return instance.delete(`/auth/login`)\r\n          .then(response => response.data);\r\n    }\r\n}","import {instance} from \"./api\";\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get('security/get-captcha-url');\r\n    }\r\n}","import {authAPI} from \"../../api/authAPI\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {securityAPI} from \"../../api/securityAPI\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'social-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    userPhoto: null,\r\n    rememberMe: false,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA :\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId = 19470, email, login, userPhoto, isAuth) =>\r\n    ({ type: SET_USER_DATA, payload:{userId, email, login, userPhoto, isAuth} })\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) =>\r\n    ({ type: GET_CAPTCHA_URL_SUCCESS, payload:{captchaUrl} })\r\n\r\n// Thunks\r\nexport const getAuthUser = () => async (dispatch) => {\r\n    let response = await authAPI.getAuthUser()\r\n    let imgUrl;\r\n    if (response.resultCode === 0) {\r\n        const {id, email, login} = response.data;\r\n        imgUrl = await authAPI.getAuthUserAvatar(id);\r\n        dispatch(setAuthUserData(id, email, login, imgUrl, true));\r\n    }\r\n}\r\n\r\nexport const setLoginUser = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.loginUser(email, password, rememberMe, captcha);\r\n    if (response.resultCode === 0) {\r\n        dispatch(getAuthUser());\r\n    } else {\r\n        if(response.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = response.messages.length > 0 ? response.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const setLogoutUser = () => async (dispatch) => {\r\n    let response = await authAPI.logoutUser();\r\n    if (response.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, null, false));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captcha = response.data.url;\r\n\r\n    dispatch(getCaptchaUrlSuccess(captcha));\r\n\r\n}\r\n\r\nexport default authReducer;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport Preloader from \"../components/common/preloader/Preloader\";\r\n\r\nexport const WithSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return (\r\n            <React.Suspense fallback={<Preloader />}>\r\n                <Component {...props}/>\r\n            </React.Suspense>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport styles from './navbar.module.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Login from \"../login/Login\";\r\nimport classNames from \"classnames\";\r\n\r\nconst Navbar = ({isAuth, isShowedNavBar, setLogoutUser, showHideNavBar}) => {\r\n\r\n    return (\r\n        <nav className={classNames(styles.navbar, styles.navbar__menu, {[styles.active]: isShowedNavBar})}>\r\n            <ul className={classNames(styles.navbar__list)}>\r\n                <li onClick={() => showHideNavBar(false)}><NavLink to=\"/profile\">Profile</NavLink></li>\r\n                <li onClick={() => showHideNavBar(false)}><NavLink to=\"/dialogs\">Messages</NavLink></li>\r\n                <li onClick={() => showHideNavBar(false)}><NavLink to=\"/news\">News</NavLink></li>\r\n                <li onClick={() => showHideNavBar(false)}><NavLink to=\"/music\">Music</NavLink></li>\r\n                <li onClick={() => showHideNavBar(false)}><NavLink to=\"/users\">Users</NavLink></li>\r\n                <li onClick={() => showHideNavBar(false)}><NavLink to=\"/settings\">Settings</NavLink></li>\r\n            </ul>\r\n\r\n            <div className={classNames(styles.login__link)}>\r\n                {\r\n                    isAuth\r\n                        ? <div onClick={setLogoutUser} className={classNames(styles.login__exit)}>Logout</div>\r\n                        : <NavLink to={'/login'} render={ () => <Login />}>Login</NavLink>\r\n                }\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","const SHOW_HIDE_NAVBAR = \"social-network/navbar/SHOW_HIDE_NAVBAR\";\r\n\r\nconst initialState = {\r\n    isShowedNavBar: false,\r\n};\r\n\r\nconst navbarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SHOW_HIDE_NAVBAR:\r\n            return {isShowedNavBar: action.isShowedNavBar}\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const showHideNavBar = (isShowedNavBar) => ({type: SHOW_HIDE_NAVBAR, isShowedNavBar})\r\n\r\nexport default navbarReducer;","import React from 'react';\r\nimport Navbar from \"./Navbar\";\r\nimport {connect} from \"react-redux\";\r\nimport {setLogoutUser} from \"../../redux/reducers/authReducer\";\r\nimport {showHideNavBar} from \"../../redux/reducers/navbarReducer\";\r\n\r\n\r\nclass NavbarContainer extends React.Component {\r\n\r\n    onOffScroll = (value) => {\r\n        if(value) {\r\n            document.body.style.overflowY = \"hidden\";\r\n        } else {\r\n            document.body.style.overflowY = \"scroll\";\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(this.props.isShowedNavBar !== prevProps.isShowedNavBar){\r\n            this.onOffScroll(this.props.isShowedNavBar);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Navbar {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        isShowedNavBar: state.navbar.isShowedNavBar\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    setLogoutUser,\r\n    showHideNavBar,\r\n})(NavbarContainer);","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport styles from \"./notFound.module.scss\";\r\nimport classNames from \"classnames\";\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className={classNames(styles.error, styles.error__container)}>\r\n            <h2 className={styles.error__title}>404 - Not Found!</h2>\r\n            <Link to={\"/profile\"} className={styles.error__link}>Go Home</Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport styles from './content.module.scss'\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {WithSuspense} from \"../../hoc/WithSuspense\";\r\nimport NavbarContainer from \"../navbar/NavbarContainer\";\r\nimport classNames from \"classnames\";\r\nimport NotFound from \"../common/notFound/NotFound\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('../dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('../profile/ProfileContainer'));\r\nconst UsersContainer  = React.lazy( () => import('../users/UsersContainer'));\r\nconst Login = React.lazy(() => import('../login/Login'));\r\nconst News = React.lazy(() => import('../news/News'));\r\nconst Settings = React.lazy( () => import('../settings/Settings'));\r\nconst Music = React.lazy( () => import ('../music/Music'));\r\n/*const NotFound = React.lazy(() => import('../common/notFound/NotFound'));*/\r\n\r\nconst Content = () => {\r\n    return (\r\n        <main className={classNames(styles.main, \"container-fluid\", \"p-0\")}>\r\n            <div className={classNames(styles.main__container, \"row\", \"m-0\")}>\r\n                <div className={classNames(styles.main__nav, \"col-lg-2\", \"p-0\")}>\r\n                    <NavbarContainer />\r\n                </div>\r\n                <div className={classNames(styles.main__content, \"col-lg-10\", \"col-12\", \"p-0\")}>\r\n                    <Switch>\r\n                        <Route path=\"/profile/:userId?\" render={WithSuspense(ProfileContainer)}/>\r\n                        <Route path=\"/dialogs\" render={WithSuspense(DialogsContainer)}/>\r\n                        <Route path=\"/news\" render={WithSuspense(News)}/>\r\n                        <Route path=\"/music\" render={WithSuspense(Music)}/>\r\n                        <Route path=\"/users\" render={WithSuspense(UsersContainer)}/>\r\n                        <Route path=\"/login\" render={WithSuspense(Login)}/>\r\n                        <Route path=\"/settings\" render={WithSuspense(Settings)}/>\r\n                        <Route component={NotFound}/>\r\n\r\n                        <Redirect from={\"/\"} to={\"/profile\"} />\r\n                    </Switch>\r\n                </div>\r\n\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Content;","import React from 'react';\r\nimport classes from './footer.module.scss';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className={`${classes.footer} ${classes.footer__container}`}>\r\n            <div className={classes.footer__copyright}>\r\n                <h2>Â© 2021 Copyright: Ivashko Vladyslav</h2>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React, {useState} from 'react';\r\nimport classNames from \"classnames\";\r\nimport styles from \"../../header/header.module.scss\";\r\n\r\nconst MenuBurger = ({isShowedNavBar, showHideNavBar}) => {\r\n\r\n    const [isToggleOn, setToggle] = useState(false);\r\n\r\n    const showHideMenu = () => {\r\n        setToggle(!isToggleOn);\r\n        showHideNavBar(isToggleOn);\r\n    }\r\n\r\n    return (\r\n        <div onClick={showHideMenu} className={classNames(styles.header__icon, {[styles.active]: isShowedNavBar})} >\r\n            <span></span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MenuBurger;","import React from 'react';\r\nimport styles from './header.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/img/cat.png\";\r\nimport classNames from \"classnames\";\r\nimport MenuBurger from \"../common/menu/MenuBurger\";\r\n\r\nconst Header = ({isAuth, imgUrl, isShowedNavBar, showHideNavBar}) => {\r\n    return (\r\n        <header className={classNames(styles.header, \"container-fluid\", \"p-0\")}>\r\n            <div className={classNames(styles.header__container, \"row\")}>\r\n                <div className={classNames(styles.header__main, \"col-lg-6\", \"col-4\", \"justify-content-lg-start\", \"justify-content-md-center\",\r\n                    \"justify-content-center\", \"p-0\")}>\r\n                    <div className={styles.header__title}>\r\n                        <h1><NavLink to=\"/\">Cool Network</NavLink></h1>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(styles.login, styles.login__container, \"col-lg-6\", \"col-4\", \"justify-content-lg-end\",\r\n                     \"p-0\")}>\r\n                    <div className={ isAuth ? styles.login__photo : styles.login__notfoto}>\r\n                        <img src={imgUrl != null ? imgUrl : userPhoto} alt=\"\"/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(styles.header__menu, \"col-4\", \"justify-content-end\", \"p-0\")}>\r\n                    <MenuBurger isShowedNavBar={isShowedNavBar} showHideNavBar={showHideNavBar}/>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {showHideNavBar} from \"../../redux/reducers/navbarReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Header isAuth={this.props.isAuth} imgUrl={this.props.imgUrl} isShowedNavBar={this.props.isShowedNavBar}\r\n                    showHideNavBar={this.props.showHideNavBar}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        imgUrl: state.auth.userPhoto,\r\n        isShowedNavBar: state.navbar.isShowedNavBar,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {showHideNavBar})(HeaderContainer);","import {getAuthUser} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"social-network/app/INITIALIZED-SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializedApp = () => async (dispatch) => {\r\n    await dispatch(getAuthUser());\r\n    await dispatch(initializedSuccess())\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducers/profileReducer\";\r\nimport dialogsReducer from \"./reducers/dialogsReducer\";\r\nimport navbarReducer from \"./reducers/navbarReducer\";\r\nimport usersReducer from \"./reducers/usersReducer\";\r\nimport authReducer from \"./reducers/authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./reducers/appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    navbar: navbarReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import './App.scss';\r\nimport Content from './components/content/Content';\r\nimport Footer from './components/footer/Footer';\r\nimport HeaderContainer from \"./components/header/HeaderContainer\";\r\nimport React, {Component} from \"react\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {HashRouter, withRouter} from \"react-router-dom\";\r\nimport {initializedApp} from \"./redux/reducers/appReducer\";\r\nimport Preloader from \"./components/common/preloader/Preloader\";\r\nimport store from \"./redux/reduxStore\";\r\nimport classNames from \"classnames\";\r\n\r\nclass App extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializedApp();\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if(!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n\r\n        return (\r\n            <div className={classNames(\"wrapper\")}>\r\n                <HeaderContainer/>\r\n                <Content/>\r\n                <Footer/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        initialized: state.app.initialized,\r\n    }\r\n}\r\n\r\nconst AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializedApp})\r\n)(App);\r\n\r\nconst MainApp = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer />\r\n            </Provider>\r\n        </HashRouter>\r\n    );\r\n}\r\n\r\nexport default MainApp;","import React from 'react';\r\nimport './index.scss';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport \"bootstrap/dist/css/bootstrap-grid.min.css\"\r\nimport MainApp from \"./App\";\r\n\r\n\r\nReactDOM.render( <MainApp />, document.getElementById('root'));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"validation__container\":\"controlForms_validation__container__31BGM\",\"validation__field\":\"controlForms_validation__field__2PrKz\",\"validation__message\":\"controlForms_validation__message__2FpW1\",\"validation__group\":\"controlForms_validation__group__3aNuk\",\"validation__f\":\"controlForms_validation__f__3vLkL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"navbar_navbar__290VP\",\"navbar__menu\":\"navbar_navbar__menu__IiBlh\",\"navbar__list\":\"navbar_navbar__list__igNav\",\"login__link\":\"navbar_login__link__171-1\",\"login__exit\":\"navbar_login__exit__p6ZqN\",\"active\":\"navbar_active__28gjk\"};","import React from 'react';\r\nimport errorsStyles from './controlForms.module.scss';\r\nimport {Field} from \"redux-form\";\r\nimport classNames from \"classnames\";\r\n\r\nconst ControlForms = ({meta:{touched, error}, children}) => {\r\n    const hasErrors = touched && error;\r\n    return (\r\n        <div className={errorsStyles.validation__container}>\r\n            <div className={classNames( errorsStyles.validation__f,{[errorsStyles.validation__field]: hasErrors} )}>\r\n                { children }\r\n            </div>\r\n            <div className={errorsStyles.validation__message}>\r\n                {hasErrors && <span>{error}</span>}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, styles, ...restProps} = props;\r\n\r\n    return (\r\n        <ControlForms {...props}>\r\n                <input className={classNames(styles)}\r\n                       {...input} {...restProps}/>\r\n        </ControlForms>\r\n    );\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, styles, ...restProps} = props;\r\n\r\n    return (\r\n        <ControlForms {...props}>\r\n            <textarea className={classNames(styles)}\r\n                {...input} {...restProps}/>\r\n        </ControlForms>\r\n    );\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props={},\r\n                            type=\"text\", styles=[], text = \"\") => {\r\n    return (\r\n        <Field placeholder={placeholder} type={type}\r\n               component={component} name={name} validate={[...validators]}\r\n               styles={styles}\r\n               {...props}\r\n        />\r\n    );\r\n}","export const required = value => (value ? undefined : \"Required\")\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    return value && value.length > maxLength ? `Max be ${maxLength} characters or less` : undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"content_main__2UGQ1\",\"main__container\":\"content_main__container__3v046\",\"main__nav\":\"content_main__nav__3a-lJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error__container\":\"notFound_error__container__1WIGf\",\"error__title\":\"notFound_error__title__3r2DP\",\"error__link\":\"notFound_error__link__2H82A\"};","export default __webpack_public_path__ + \"static/media/loader.ce32e07d.gif\";","import loader from \"../../../assets/img/loader.gif\";\r\nimport styles from './common.module.scss';\r\nimport React from \"react\";\r\n\r\nconst Preloader = () => {\r\n    return(\r\n        <div>\r\n            <img src={loader} className={styles.common__loader}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__1sR2K\",\"footer__copyright\":\"footer_footer__copyright__2OjIQ\"};"],"sourceRoot":""}