{"version":3,"sources":["hoc/WithAuthRedirect.js","components/dialogs/dialogs.module.scss","components/dialogs/dialogItem/DialogItem.jsx","components/dialogs/message/Message.jsx","components/dialogs/Dialogs.jsx","components/dialogs/DialogsContainer.jsx"],"names":["withAuthRedirect","Component","RedirectComponent","this","props","isAuth","to","React","connect","state","auth","module","exports","DialogItem","id","name","path","className","classes","dialogs__dialog","person__avatar","src","alt","person__name","person__text","Message","message","dialogs__message","maxLength100","maxLengthCreator","DialogsReduxForm","reduxForm","form","handleSubmit","styles","messages__form","onSubmit","createField","Textarea","messages__text","messages__send","Dialogs","dialogs","messages","send","dialogsElement","map","d","messagesElements","m","dialogs__container","dialogs__items","dialogs__messages","classNames","messages__container","messages__create","formData","newMessage","compose","dialogsPage","messageText","newMessageText"],"mappings":"4OAIaA,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAIC,KAAKC,MAAMC,OAER,cAACJ,EAAD,eAAeE,KAAKC,QAFG,cAAC,IAAD,CAAUE,GAAI,eAHT,GACXC,IAAMN,WAgBtC,OAFmCO,aANH,SAACC,GAC7B,MAAO,CACHJ,OAAQI,EAAMC,KAAKL,UAIyC,GAAjCG,CAAqCN,K,oBClB5ES,EAAOC,QAAU,CAAC,QAAU,yBAAyB,mBAAqB,oCAAoC,eAAiB,gCAAgC,gBAAkB,iCAAiC,iBAAmB,kCAAkC,kBAAoB,mCAAmC,eAAiB,gCAAgC,aAAe,8BAA8B,aAAe,8BAA8B,eAAiB,gCAAgC,eAAiB,gCAAgC,eAAiB,kC,6FCiB7iBC,EAdI,SAAC,GAAgB,IAAfC,EAAc,EAAdA,GAAIC,EAAU,EAAVA,KACjBC,EAAO,YAAcF,EACzB,OACI,eAAC,IAAD,CAASR,GAAIU,EAAMC,UAAWC,IAAQC,gBAAtC,UACQ,qBAAKF,UAAWC,IAAQE,eAAxB,SACI,qBAAKC,IAAI,wFAAwFC,IAAI,OAEzG,qBAAKL,UAAWC,IAAQK,aAAxB,SACI,qBAAKN,UAAWC,IAAQM,aAAxB,SAAuCT,UCF5CU,EANC,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACd,OACI,qBAAKT,UAAWC,IAAQS,iBAAxB,SAA2CD,K,yCCG7CE,EAAeC,YAAiB,KA2ChCC,EAAmBC,YAAW,CAACC,KAAM,eAAlBD,EAVL,SAAC,GAAoB,IAAnBE,EAAkB,EAAlBA,aAClB,OACI,uBAAMhB,UAAWiB,IAAOC,eAAgBC,SAAUH,EAAlD,UACKI,YAAY,oBAAqB,aAAc,CAACT,GAC7CU,IAAU,GAAI,OAAQ,CAACJ,IAAOK,iBAClC,wBAAQtB,UAAWiB,IAAOM,eAA1B,wBAOGC,EA3CC,SAAC,GAA+B,IAA9BC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,KAE3BC,EAAiBH,EAAQI,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAYhC,KAAMgC,EAAEhC,KAAMD,GAAIiC,EAAEjC,IAASiC,EAAEjC,OAC7EkC,EAAmBL,EAASG,KAAI,SAAAG,GAAC,OAAI,cAAC,EAAD,CAASvB,QAASuB,EAAEvB,SAAcuB,EAAEnC,OAM/E,OACI,qBAAKG,UAAWiB,IAAOQ,QAAvB,SACI,sBAAKzB,UAAWiB,IAAOgB,mBAAvB,UACI,qBAAKjC,UAAWiB,IAAOiB,eAAvB,SACKN,IAEL,sBAAK5B,UAAWiB,IAAOkB,kBAAvB,UACI,8BAAMJ,IAIN,qBAAK/B,UAAWoC,IAAWnB,IAAOS,SAAUT,IAAOoB,qBAAnD,SACI,qBAAKrC,UAAWiB,IAAOqB,iBAAvB,SACI,cAACzB,EAAD,CAAkBM,SAjBpB,SAACoB,GACnBZ,EAAKY,EAASC,4B,yBCHPC,sBACXlD,aATkB,SAACC,GACnB,MAAO,CACHiC,QAASjC,EAAMkD,YAAYjB,QAC3BC,SAAUlC,EAAMkD,YAAYhB,SAC5BiB,YAAanD,EAAMkD,YAAYE,kBAKV,CAACjB,WAC1B5C,IAFW0D,CAGbjB","file":"static/js/4.d35c1e93.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    const mapStateToPropsRedirect = (state) => {\r\n        return {\r\n            isAuth: state.auth.isAuth,\r\n        }\r\n    }\r\n\r\n    const ConnectedRedirectComponent = connect(mapStateToPropsRedirect, {})(RedirectComponent);\r\n\r\n    return ConnectedRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__TLaW_\",\"dialogs__container\":\"dialogs_dialogs__container__VFdfU\",\"dialogs__items\":\"dialogs_dialogs__items__1pCIM\",\"dialogs__dialog\":\"dialogs_dialogs__dialog__2gUGa\",\"dialogs__message\":\"dialogs_dialogs__message__1cAey\",\"dialogs__messages\":\"dialogs_dialogs__messages__HS3FE\",\"person__avatar\":\"dialogs_person__avatar__1ACqF\",\"person__name\":\"dialogs_person__name__1fTod\",\"person__text\":\"dialogs_person__text___OBz6\",\"messages__form\":\"dialogs_messages__form__N_bXt\",\"messages__text\":\"dialogs_messages__text__3pIIQ\",\"messages__send\":\"dialogs_messages__send__2dN6Z\"};","import React from 'react';\r\nimport classes from '../dialogs.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = ({id, name}) => {\r\n    let path = \"/dialogs/\" + id;\r\n    return (\r\n        <NavLink to={path} className={classes.dialogs__dialog}>\r\n                <div className={classes.person__avatar}>\r\n                    <img src=\"https://cdn.britannica.com/q:60/92/181392-050-08187DB5/cat-British-Shorthair-grey.jpg\" alt=\"\"/>\r\n                </div>\r\n                <div className={classes.person__name}>\r\n                    <div className={classes.person__text}>{name}</div>\r\n                </div>\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport classes from '../dialogs.module.scss';\r\n\r\n\r\nconst Message = ({message}) => {\r\n    return (\r\n        <div className={classes.dialogs__message}>{message}</div>\r\n    );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport styles from './dialogs.module.scss';\r\nimport DialogItem from \"./dialogItem/DialogItem\";\r\nimport Message from \"./message/Message\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator} from \"../../utils/validators/validators\";\r\nimport {createField, Textarea} from \"../common/controlForms/ControlForms\";\r\nimport classNames from \"classnames\";\r\n\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nconst Dialogs = ({dialogs, messages, send}) => {\r\n\r\n    const dialogsElement = dialogs.map(d => <DialogItem name={d.name} id={d.id} key={d.id}/>);\r\n    const messagesElements = messages.map(m => <Message message={m.message} key={m.id}/>);\r\n\r\n    const onSendMessage = (formData) => {\r\n        send(formData.newMessage);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.dialogs}>\r\n            <div className={styles.dialogs__container}>\r\n                <div className={styles.dialogs__items}>\r\n                    {dialogsElement}\r\n                </div>\r\n                <div className={styles.dialogs__messages}>\r\n                    <div>{messagesElements}</div>\r\n\r\n                    {/*Create message*/}\r\n\r\n                    <div className={classNames(styles.messages, styles.messages__container)}>\r\n                        <div className={styles.messages__create}>\r\n                            <DialogsReduxForm onSubmit={onSendMessage}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst DialogsForm = ({handleSubmit}) => {\r\n    return (\r\n        <form className={styles.messages__form} onSubmit={handleSubmit}>\r\n            {createField(\"Type your message\", \"newMessage\", [maxLength100],\r\n                Textarea, {}, \"text\", [styles.messages__text])}\r\n            <button className={styles.messages__send}>Send</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst DialogsReduxForm = reduxForm( {form: \"sendMessage\"} )(DialogsForm);\r\n\r\nexport default Dialogs;","import {send} from \"../../redux/reducers/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.dialogsPage.dialogs,\r\n        messages: state.dialogsPage.messages,\r\n        messageText: state.dialogsPage.newMessageText,\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {send}),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}