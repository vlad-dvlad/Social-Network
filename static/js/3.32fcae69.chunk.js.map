{"version":3,"sources":["hoc/WithAuthRedirect.js","components/profile/profile.module.scss","components/profile/myPosts/myPosts.module.scss","components/profile/myPosts/Posts/post.module.scss","components/profile/profileInfo/ProfileStatusWithHooks.jsx","components/profile/profileInfo/ProfileDataForm.jsx","components/profile/profileInfo/ProfileInfo.jsx","components/profile/myPosts/Posts/Post.jsx","components/profile/myPosts/MyPosts.jsx","components/profile/myPosts/MyPostsContainer.jsx","components/profile/Profile.jsx","components/profile/ProfileContainer.jsx"],"names":["withAuthRedirect","Component","RedirectComponent","this","props","isAuth","to","React","connect","state","auth","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","className","styles","data__status","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileDataReduxForm","reduxForm","form","handleSubmit","profile","error","onSubmit","classes","profile__description","data__contacts","createField","Input","data__form","Textarea","data__area","Object","keys","contacts","map","key","errors","validation__group","data__edit","ProfileData","isOwner","goToEditMode","data__text","lookingForAJob","aboutMe","lookingForAJobDescription","contactTitle","contactValue","onClick","Contact","contacts__title","contacts__value","ProfileInfo","savePhoto","saveProfile","Preloader","profile__main","profile__info","profile__ava","src","photos","large","userPhoto","alt","profile__load","type","target","files","length","classNames","profile__data","data","data__name","fullName","initialValues","formData","then","Post","likeCount","message","post","post__container","post__body","post__image","post__text","post__footer","post__like","maxLength50","maxLengthCreator","MyPosts","memo","posts","imgUrl","addPostClear","posts__container","MyPostsReduxForm","newPost","posts__title","CreatePost","posts__items","p","i","posts__item","likesCount","posts__form","required","posts__text","posts__btn","MyPostsContainer","profilePage","Profile","profile__container","ProfileContainer","refreshProfile","userId","match","params","authorizedUserId","history","push","getProfile","getStatus","prevProps","prevState","compose","withRouter"],"mappings":"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","file":"static/js/3.32fcae69.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    const mapStateToPropsRedirect = (state) => {\r\n        return {\r\n            isAuth: state.auth.isAuth,\r\n        }\r\n    }\r\n\r\n    const ConnectedRedirectComponent = connect(mapStateToPropsRedirect, {})(RedirectComponent);\r\n\r\n    return ConnectedRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__3exxN\",\"profile__container\":\"profile_profile__container__2MEml\",\"profile__main\":\"profile_profile__main__2NpVj\",\"profile__header\":\"profile_profile__header__1sZBY\",\"profile__info\":\"profile_profile__info__1Ni4h\",\"profile__ava\":\"profile_profile__ava__2hvPA\",\"profile__load\":\"profile_profile__load__X1jOb\",\"data__name\":\"profile_data__name__137y3\",\"data__status\":\"profile_data__status__33yJD\",\"data__text\":\"profile_data__text__3J6Sp\",\"data__contacts\":\"profile_data__contacts__1XTJk\",\"data__edit\":\"profile_data__edit__1DYPJ\",\"data__form\":\"profile_data__form__3rnzx\",\"data__area\":\"profile_data__area__3R7Xm\",\"contacts\":\"profile_contacts__3F2T2\",\"contacts__value\":\"profile_contacts__value__1z7MH\",\"contacts__title\":\"profile_contacts__title__wWE9-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts__container\":\"myPosts_posts__container__4sDY8\",\"posts__text\":\"myPosts_posts__text__26El_\",\"posts__item\":\"myPosts_posts__item__1o0qM\",\"posts__form\":\"myPosts_posts__form__1bzyd\",\"posts__btn\":\"myPosts_posts__btn__iB-Dl\",\"posts__title\":\"myPosts_posts__title__22ugd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post__container\":\"post_post__container__3pYen\",\"post__body\":\"post_post__body__Y9Xhh\",\"post__image\":\"post_post__image__22kjV\",\"post__text\":\"post_post__text__3wCH_\",\"post__footer\":\"post_post__footer__2j26s\",\"post__like\":\"post_post__like__h40U1\"};","import React, {useEffect, useState} from 'react';\r\nimport styles from \"../profile.module.scss\";\r\n\r\nconst ProfileStatusWithHooks  = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => setEditMode(true);\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => setStatus(e.currentTarget.value);\r\n\r\n\r\n    return (\r\n        <div className={styles.data__status}>\r\n            {\r\n                !editMode &&\r\n                <div>\r\n                    <div onDoubleClick={activateEditMode}>{props.status || \"------\"}</div>\r\n                </div>\r\n            }\r\n            {\r\n                editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true}  onBlur={deactivateEditMode}\r\n                    value={status}/>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import classes from \"../profile.module.scss\";\r\nimport React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../common/controlForms/ControlForms\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport errors from \"../../common/controlForms/controlForms.module.scss\";\r\nimport styles from \"../profile.module.scss\";\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={classes.profile__description}>\r\n            <div className={styles.data__contacts}>Full name: {createField(\"Full name\", \"fullName\", [], Input, {}, \"text\", [styles.data__form])}</div>\r\n\r\n            <div className={styles.data__contacts}>Looking for a job: {createField(\"\", \"lookingForAJob\", [], Input, {}, \"checkbox\",  )}</div>\r\n            <div className={styles.data__contacts}>My professional skills:\r\n                {createField(\"Skills\", \"lookingForAJobDescription\", [], Textarea, {}, \"\", [styles.data__area], \"\")}\r\n            </div>\r\n            <div className={styles.data__contacts}>About Me: {createField(\"About me\", \"aboutMe\", [], Input, {}, \"text\", [styles.data__form])}</div>\r\n            <div className={styles.data__contacts}>Contacts: {Object.keys(profile.contacts).map(key =>\r\n                <div key={key}>{createField(key, \"contacts.\" + key, [], Input, {}, \"text\", [styles.data__form])}</div>\r\n            )}</div>\r\n            {   error &&\r\n            <div className={errors.validation__group}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <button className={styles.data__edit}>Save</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm({form: \"editProfile\"})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm;","import React, {useState} from 'react';\r\nimport styles from '../profile.module.scss'\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/img/cat.png\";\r\nimport ProfileDataReduxForm from \"./ProfileDataForm\";\r\nimport classNames from \"classnames\";\r\n\r\nconst ProfileInfo = ({profile, status, isOwner, updateStatus, savePhoto, saveProfile}) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if(!profile) {\r\n        return <Preloader />;\r\n    }\r\n\r\n    const onChangeAvatar= (e) => {\r\n        if(e.target.files.length){\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n       saveProfile(formData).then(\r\n           () => {\r\n               setEditMode(false);\r\n           }\r\n       );\r\n    }\r\n\r\n    return (\r\n        <div className={styles.profile__main}>\r\n            <div className={styles.profile__info}>\r\n                <div className={styles.profile__ava}>\r\n                    <img src={profile.photos.large || userPhoto} alt=\"\" />\r\n                    {\r\n                        isOwner &&\r\n                        <label className={styles.profile__load}>\r\n                            <input type={\"file\"} onChange={onChangeAvatar} />Change Photo\r\n                        </label>\r\n                    }\r\n                </div>\r\n                <div className={classNames(styles.profile__data, styles.data)}>\r\n                    <span className={styles.data__name}>{profile.fullName}</span>\r\n                    <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                    {editMode ?\r\n                        <ProfileDataReduxForm initialValues={profile} profile={profile} onSubmit={onSubmit}/>\r\n                        : <ProfileData profile={profile} isOwner={isOwner} goToEditMode={() => {setEditMode(true)}} />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return (\r\n        <div className={styles.profile__description}>\r\n            <div className={styles.data__text}>Looking for a job: <span>{profile.lookingForAJob ? \"yes\" : \"no\"}</span></div>\r\n            <div className={styles.data__text}>About me: <span>{profile.aboutMe}</span></div>\r\n            <div className={styles.data__text}>My professional skills: <span>{profile.lookingForAJobDescription}</span></div>\r\n            <div className={styles.data__contacts}>Contacts: {Object.keys(profile.contacts).map(key =>\r\n                <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n            )}</div>\r\n            {isOwner && <div ><button className={styles.data__edit} onClick={goToEditMode}>Edit</button></div>}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <div className={styles.contacts}>\r\n            <span className={styles.contacts__title}>{contactTitle}</span>:\r\n            <span className={styles.contacts__value}>{contactValue}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;\r\n\r\n","import React from 'react';\r\nimport styles from './post.module.scss'\r\nimport userPhoto from \"../../../../assets/img/cat.png\";\r\nconst Post = ({photos, likeCount, message}) => {\r\n\r\n    return (\r\n        <div className={`${styles.post} ${styles.post__container}`}>\r\n            <div className={styles.post__body}>\r\n                <div className={styles.post__image}>\r\n                    <img src={photos || userPhoto} alt=\"\" />\r\n                </div>\r\n                <div className={styles.post__text}>\r\n                    {message}\r\n                </div>\r\n            </div>\r\n            <div className={styles.post__footer}>\r\n                <div className={styles.post__like}>\r\n                    <span>Like {likeCount}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport styles from './myPosts.module.scss';\r\nimport Post from './Posts/Post';\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Textarea} from \"../../common/controlForms/ControlForms\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst MyPosts = React.memo(({posts, imgUrl, addPostClear}) => {\r\n\r\n    const onAddPost = (formData) => {\r\n        addPostClear(formData.newPost);\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.posts} ${styles.posts__container}`}>\r\n            <MyPostsReduxForm onSubmit={onAddPost}/>\r\n            <div className={styles.posts__title}>My post</div>\r\n            <CreatePost posts={posts} imgUrl={imgUrl}/>\r\n        </div>\r\n    );\r\n});\r\n\r\nconst CreatePost = ({posts, imgUrl}) => {\r\n\r\n    return (\r\n        <div className={styles.posts__items}>\r\n            {\r\n                posts.map((p, i)  => <div  key={i}  className={styles.posts__item}>\r\n                    <Post photos={imgUrl} message={p.message} likeCount={p.likesCount} />\r\n                </div>)\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nconst MyPostsForm = ({handleSubmit}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={styles.posts__form}>\r\n            {createField(\"Enter something\", \"newPost\", [required, maxLength50],\r\n                Textarea, {}, \"text\", [styles.posts__text])}\r\n            <button className={styles.posts__btn}>Add post</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst MyPostsReduxForm = reduxForm( {form: \"sendPost\"} )(MyPostsForm);\r\n\r\nexport default MyPosts;","import MyPosts from \"./MyPosts\";\r\nimport {addPostClear} from \"../../../redux/reducers/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        imgUrl: state.auth.userPhoto,\r\n        posts: state.profilePage.posts,\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {\r\n    addPostClear\r\n})(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport classes from './profile.module.scss';\r\nimport ProfileInfo from \"./profileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./myPosts/MyPostsContainer\";\r\n\r\nconst Profile = ({profile, status, isOwner, updateStatus, savePhoto, saveProfile}) => {\r\n\r\n    return (\r\n        <div className={classes.profile}>\r\n            <div className={classes.profile__container}>\r\n                <ProfileInfo profile={profile} status={status} isOwner={isOwner}\r\n                             updateStatus={updateStatus} savePhoto={savePhoto} saveProfile={saveProfile}/>\r\n                <MyPostsContainer />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfile,\r\n    getStatus,\r\n    savePhoto,\r\n    saveProfile,\r\n    updateStatus\r\n} from \"../../redux/reducers/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile = () => {\r\n        let userId = this.props.match.params.userId;\r\n\r\n        if(!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if(!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n\r\n        this.props.getProfile(userId);\r\n\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(this.props.match.params.userId !== prevProps.match.params.userId){\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile profile={this.props.profile} status={this.props.status}\r\n                     isOwner={!this.props.match.params.userId} updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto} saveProfile={this.props.saveProfile} />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth,\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getStatus, updateStatus, savePhoto, saveProfile} ),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}